@model VereinDataRoot.ViewModels.NeuesMitgliedViewModel
<div style="padding: 20px">
    <form>
        <div class="formrow">
            <span class="formlabel">Anrede:</span>
            @Html.DropDownListFor(m => m.AnredeId, new SelectList(Model.Anreden, "Id", "Value", Model.AnredeId))
        </div>
        <div class="formrow">
            <span class="formlabel">Vorname:</span>
            @Html.TextBoxFor(m => m.Vorname, new { @class = "k-textbox" })
        </div>
        <div class="formrow">
            <span class="formlabel">Name:</span>
            @Html.TextBoxFor(m => m.Name, new {@class = "k-textbox"})
        </div>
        <div class="formrow">
            <span class="formlabel">Zusatz Name:</span>
            @Html.TextBoxFor(m => m.ZusatzName, new {@class = "k-textbox"})
        </div>
        <div class="formrow">
            <span class="formlabel">Strasse, Nr.:</span>
            @Html.TextBoxFor(m => m.Strasse, new {@class = "k-textbox"})
        </div>
        <div class="formrow">
            <span class="formlabel">PLZ:</span>
            @Html.TextBoxFor(m => m.Plz, new {@class = "k-textbox"})
        </div>
        <div class="formrow">
            <span class="formlabel">Ort:</span>
            @Html.TextBoxFor(m => m.Ort, new {@class = "k-textbox"})
        </div>
        <div class="formrow">&nbsp;</div>
        <div class="formrow">
            <span class="formlabel">Geburtstag:</span>
            @Html.TextBoxFor(m => m.Geburtstag, new {@class = "k-textbox", placeholder = "dd.mm.jjjj"})
        </div>
        <div class="formrow">
            <span class="formlabel">E-Mail:</span>
            @Html.TextBoxFor(m => m.Mail, new {@class = "k-textbox"})
        </div>
        <div class="formrow">
            <span class="formlabel">Mobile:</span>
            @Html.TextBoxFor(m => m.Mobile, new {@class = "k-textbox"})
        </div>
        <div class="formrow">
            <span class="formlabel">Telefon Privat:</span>
            @Html.TextBoxFor(m => m.TelefonP, new {@class = "k-textbox"})
        </div>
        <div class="formrow">
            <span class="formlabel">Telefon Geschäft:</span>
            @Html.TextBoxFor(m => m.TelefonG, new {@class = "k-textbox"})
        </div>
        <div class="formrow">
            <span class="formlabel">Fax:</span>
            @Html.TextBoxFor(m => m.Fax, new {@class = "k-textbox"})
        </div>
        <div class="formrow">&nbsp;</div>
        <div class="formrow">
            <span class="formlabel">Land:</span>
            @Html.DropDownListFor(m => m.LandId, new SelectList(Model.Laender, "Id", "Value", Model.LandId))
        </div>
        <div class="formrow">
            <span class="formlabel">Mitgliedschaft:</span>
            @Html.DropDownListFor(m => m.MitgliedschaftTypeId, new SelectList(Model.MitgliedschaftTypen, "Id", "Value", Model.MitgliedschaftTypeId))
        </div>
        <div class="formrow">
            <span class="formlabel">Gruppe:</span>
            @Html.DropDownListFor(m => m.MandantBenutzerGruppeId, new SelectList(Model.MandantenGruppen, "Id", "Value", Model.MandantBenutzerGruppeId))
        </div>
        <div class="formrow">
            <span class="formlabel">Datum Rechnung:</span>
            @Html.TextBoxFor(m => m.RechnungsDatumString)
        </div>
        <div class="formrow">
            <span class="formlabel">Bemerkung:</span>
            @Html.TextBoxFor(m => m.Bemerkung, new {@class = "k-textbox"})
        </div>
        <div class="formrow">&nbsp;</div>
        <div class="formrow">
            @Html.HiddenFor(m => m.MitgliedId)
            <input type="submit" value="Speichern" class="k-button k-primary"/> &nbsp;&nbsp;<span id="formMess" style="display: none"></span>
        </div>
    </form>
</div>
<div id="pop" style="display: none"></div>
<script type="text/javascript">
    $(document).ready(function() {
        $("#AnredeId").kendoDropDownList();
        $("#MitgliedschaftTypeId").kendoDropDownList(); 
        $("#MandantBenutzerGruppeId").kendoDropDownList();
        $("#geburztag").kendoDatePicker();
        $("#RechnungsDatumString").kendoDatePicker();
        $("#LandId").kendoDropDownList();
        $("form").on("submit", function() {
            var obj = $(this).serializeArray();
            $.ajax({
                method: "POST",
                url: "/mitglieder/setMitglied",
                data: obj
            }).done(function (page) {
                if (page.save) {
                    $("#formMess").html(page.mess).fadeIn().fadeOut(3000);
                    $(".k-textbox").val("");
                } else {
                    if (page.divMit <= 0) {
                        $("#pop").kendoWindow({
                            width: "700px",
                            title: "Mitglieder anzahl erreicht",
                            content: "/mitglieder/maxMitglieder?maxMa="+page.maxMa+"&isMit="+page.isMit+"&divMit="+page.divMit+"&mess="+page.mess,
                            actions: ["Close"]
                        }).data("kendoWindow").open().center();
                    }
                    $("#formMess").html(page.mess).fadeIn().fadeOut(3000);
                }
            });
            return false;
        });
    });
</script>

<style scoped="scoped">
    .k-textbox { width: 300px; }
    .formlabel {
        display: inline-block;
        width: 150px;
        text-align: right;
        padding-right: 5px;
    }
    .formrow { margin: 5px 0; }
</style>